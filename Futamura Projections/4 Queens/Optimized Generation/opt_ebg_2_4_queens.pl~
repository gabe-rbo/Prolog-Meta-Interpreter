/*
Optimized Generation:
?- numlist(1, 4, Queens), Goal1 = ebg1_4_queens(Queens, Sol), GenGoal1 =
ebg1_4_queens(GenQ, GenS), Goal2 = ebg(Goal1, GenGoal1, NewRule1),
GenGoal2 = ebg(NQ, GNQ, NR), time(ebg(Goal2, GenGoal2, NewRule2)), !.
% 10,539 inferences, 0.002 CPU in 0.002 seconds (100% CPU, 4592089 Lips)

Execution:
?- numlist(1, 4, Queens), Goal1 = ebg1_4_queens(Queens, Sol), GenGoal1 =
ebg1_4_queens(GenQ, GenS), time(opt_ebg2_4_queens(Goal1, GenGoal1, NewRule1)), !.
% 314 inferences, 0.000 CPU in 0.000 seconds (99% CPU, 4975597 Lips)
*/

opt_ebg2_4_queens(NQ, GNQ, (GNQ:-del(_N, _O, _P), del(_Q, _R, _S), del(_T, _U, _V), del(_W, _X, _Y), noatk(_Z, _A1, _B1), _C1, noatk(_D1, _E1, _F1), _G1, noatk(_H1, _I1, _J1), _K1, noatk(_L1, _M1, _N1), _O1, noatk(_P1, _Q1, _R1), _S1, noatk(_T1, _U1, _V1), _W1)):-prolog_current_choice(_), not(operational(NQ)), not(predicate_property(NQ, built_in)), prolog_current_choice(_), clause(GNQ, (del(_N, _O, _P), del(_Q, _R, _S), del(_T, _U, _V), del(_W, _X, _Y), noatk(_Z, _A1, _B1), _C1, noatk(_D1, _E1, _F1), _G1, noatk(_H1, _I1, _J1), _K1, noatk(_L1, _M1, _N1), _O1, noatk(_P1, _Q1, _R1), _S1, noatk(_T1, _U1, _V1), _W1)), copy_term((GNQ:-del(_N, _O, _P), del(_Q, _R, _S), del(_T, _U, _V), del(_W, _X, _Y), noatk(_Z, _A1, _B1), _C1, noatk(_D1, _E1, _F1), _G1, noatk(_H1, _I1, _J1), _K1, noatk(_L1, _M1, _N1), _O1, noatk(_P1, _Q1, _R1), _S1, noatk(_T1, _U1, _V1), _W1), (NQ:-_X1, _Y1, _Z1, _A2, _B2, _C2, _D2, _E2, _F2, _G2, _H2, _I2, _J2, _K2, _L2, _M2)), call(_X1), call(_Y1), call(_Z1), call(_A2), call(_B2), (predicate_property(_C2, built_in), call(_C2)), call(_D2), (predicate_property(_E2, built_in), call(_E2)), call(_F2), (predicate_property(_G2, built_in), call(_G2)), call(_H2), (predicate_property(_I2, built_in), call(_I2)), call(_J2), (predicate_property(_K2, built_in), call(_K2)), call(_L2), predicate_property(_M2, built_in), call(_M2).
