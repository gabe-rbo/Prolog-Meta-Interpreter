/*
Optimized Generation:
?- numlist(1, 4, Queens), Goal1 = ebg1_4_queens(Queens, Goal), GenGoal1 = ebg1_4_queens(GenQ, GenS), Goal2 = opt_ebg2_4_queens(Goal1, GenGoal1, NewRule1), GenGoal2 = opt_ebg2_4_queens(G1, GG1, NR1), Goal3 = ebg(Goal2, GenGoal2, NewRule2), GenGoal3 = ebg(G2, GG2, NR2), time(ebg(Goal3, GenGoal3, NewRule3)), !.
% 18,558 inferences, 0.004 CPU in 0.004 seconds (100% CPU, 4388393 Lips)

Execution:
?- numlist(1, 4, Queens), Goal1 = ebg1_4_queens(Queens, Goal), GenGoal1 = ebg1_4_queens(GenQ, GenS), Goal2 = opt_ebg2_4_queens(Goal1, GenGoal1, NewRule1), GenGoal2 = opt_ebg2_4_queens(G1, GG1, NR1), time(opt_ebg3_4_queens(Goal2, GenGoal2, NewRule2)), !.
% 1,003 inferences, 0.000 CPU in 0.000 seconds (98% CPU, 6609817 Lips)
*/

opt_ebg3_4_queens(G2, GG2, (GG2:-_P2, _Q2, _R2, _S2, _T2, _U2, _V2, _W2, _X2, _Y2, _Z2, _A3, _B3, _C3, _D3, _E3, _F3, _G3, _H3, _I3, _J3, _K3, _L3, _M3, _N3, _O3, _P3, _Q3)):-prolog_current_choice(_), not(operational(G2)), not(predicate_property(G2, built_in)), prolog_current_choice(_), clause(GG2, (_P2, _Q2, _R2, _S2, _T2, _U2, _V2, _W2, _X2, _Y2, _Z2, _A3, _B3, _C3, _D3, _E3, _F3, _G3, _H3, _I3, _J3, _K3, _L3, _M3, _N3, _O3, _P3, _Q3)), copy_term((GG2:-_P2, _Q2, _R2, _S2, _T2, _U2, _V2, _W2, _X2, _Y2, _Z2, _A3, _B3, _C3, _D3, _E3, _F3, _G3, _H3, _I3, _J3, _K3, _L3, _M3, _N3, _O3, _P3, _Q3), (G2:-_R3, _S3, _T3, _U3, _V3, _W3, _X3, _Y3, _Z3, _A4, _B4, _C4, _D4, _E4, _F4, _G4, _H4, _I4, _J4, _K4, _L4, _M4, _N4, _O4, _P4, _Q4, _R4, _S4)), (predicate_property(_R3, built_in), call(_R3)), (predicate_property(_S3, built_in), call(_S3)), (predicate_property(_T3, built_in), call(_T3)), (predicate_property(_U3, built_in), call(_U3)), (predicate_property(_V3, built_in), call(_V3)), (predicate_property(_W3, built_in), call(_W3)), (predicate_property(_X3, built_in), call(_X3)), (predicate_property(_Y3, built_in), call(_Y3)), (predicate_property(_Z3, built_in), call(_Z3)), (predicate_property(_A4, built_in), call(_A4)), (predicate_property(_B4, built_in), call(_B4)), (predicate_property(_C4, built_in), call(_C4)), (predicate_property(_D4, built_in), call(_D4)), (predicate_property(_E4, built_in), call(_E4)), (predicate_property(_F4, built_in), call(_F4)), (predicate_property(_G4, built_in), call(_G4)), (predicate_property(_H4, built_in), call(_H4)), (predicate_property(_I4, built_in), call(_I4)), (predicate_property(_J4, built_in), call(_J4)), (predicate_property(_K4, built_in), call(_K4)), (predicate_property(_L4, built_in), call(_L4)), (predicate_property(_M4, built_in), call(_M4)), (predicate_property(_N4, built_in), call(_N4)), (predicate_property(_O4, built_in), call(_O4)), (predicate_property(_P4, built_in), call(_P4)), (predicate_property(_Q4, built_in), call(_Q4)), (predicate_property(_R4, built_in), call(_R4)), predicate_property(_S4, built_in), call(_S4).
