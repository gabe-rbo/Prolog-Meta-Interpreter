/*
Optimized Generation:
?- numlist(1, 4, Queens), Goal1 = ebg1_4_queens(Queens, Goal), GenGoal1 = ebg1_4_queens(GenQ, GenS), Goal2 = opt_ebg2_4_queens(Goal1, GenGoal1, NewRule1), GenGoal2 = opt_ebg2_4_queens(G1, GG1, NR1), Goal3 = opt_ebg3_4_queens(Goal2, GenGoal2, NewRule2), GenGoal3 = opt_ebg3_4_queens(G2, GG2, NR2), Goal4 = ebg(Goal3, GenGoal3, NewRule3),GenGoal4 = ebg(G3, GG3, NR3), time(ebg(Goal4, GenGoal4, NewRule4)), !.
% 38,573 inferences, 0.009 CPU in 0.009 seconds (100% CPU, 4472399 Lips)

Execution:
?- numlist(1, 4, Queens), Goal1 = ebg1_4_queens(Queens, Goal), GenGoal1 = ebg1_4_queens(GenQ, GenS), Goal2 = opt_ebg2_4_queens(Goal1, GenGoal1, NewRule1), GenGoal2 = opt_ebg2_4_queens(G1, GG1, NR1), Goal3 = opt_ebg3_4_queens(Goal2, GenGoal2, NewRule2), GenGoal3 = opt_ebg3_4_queens(G2, GG2, NR2), time(opt_ebg4_4_queens(Goal3, GenGoal3,NewRule3)), !.
% 2,366 inferences, 0.000 CPU in 0.000 seconds (99% CPU, 8009967 Lips)

Self Generation:
- numlist(1, 4, Queens), Goal1 = ebg1_4_queens(Queens, Goal), GenGoal1 = ebg1_4_queens(GenQ, GenS), Goal2 = opt_ebg2_4_queens(Goal1, GenGoal1, NewRule1), GenGoal2 = opt_ebg2_4_queens(G1, GG1, NR1), Goal3 = opt_ebg3_4_queens(Goal2, GenGoal2, NewRule2), GenGoal3 = opt_ebg3_4_queens(G2, GG2, NR2), Goal4 = opt_ebg4_4_queens(Goal3, GenGoal3, NewRule3), GenGoal4 = opt_ebg4_4_queens(G3, GG3, NR3), time(ebg(Goal4, GenGoal4, NewRule4)), !.
% 10,377 inferences, 0.001 CPU in 0.001 seconds (99% CPU, 9523949 Lips)
[...]
NewRule4 = (opt_ebg4_4_queens(G3, GG3, (GG3:-_V4, _W4, _X4, _Y4, _Z4, _A5, _B5, _C5, _D5, _E5, _F5, _G5, _H5, _I5, _J5, _K5, _L5, _M5, _N5, _O5, _P5, _Q5, _R5, _S5, _T5, _U5, _V5, _W5, _X5, _Y5, _Z5, _A6, _B6, _C6, _D6, _E6, _F6, _G6, _H6, _I6, _J6, _K6, _L6, _M6, _N6, _O6, _P6, _Q6, _R6, _S6, _T6, _U6, _V6, _W6, _X6, _Y6, _Z6, _A7, _B7, _C7, _D7, _E7)):-prolog_current_choice(_), not(operational(G3)), not(predicate_property(G3, built_in)), prolog_current_choice(_), clause(GG3, (_V4, _W4, _X4, _Y4, _Z4, _A5, _B5, _C5, _D5, _E5, _F5, _G5, _H5, _I5, _J5, _K5, _L5, _M5, _N5, _O5, _P5, _Q5, _R5, _S5, _T5, _U5, _V5, _W5, _X5, _Y5, _Z5, _A6, _B6, _C6, _D6, _E6, _F6, _G6, _H6, _I6, _J6, _K6, _L6, _M6, _N6, _O6, _P6, _Q6, _R6, _S6, _T6, _U6, _V6, _W6, _X6, _Y6, _Z6, _A7, _B7, _C7, _D7, _E7)), copy_term((GG3:-_V4, _W4, _X4, _Y4, _Z4, _A5, _B5, _C5, _D5, _E5, _F5, _G5, _H5, _I5, _J5, _K5, _L5, _M5, _N5, _O5, _P5, _Q5, _R5, _S5, _T5, _U5, _V5, _W5, _X5, _Y5, _Z5, _A6, _B6, _C6, _D6, _E6, _F6, _G6, _H6, _I6, _J6, _K6, _L6, _M6, _N6, _O6, _P6, _Q6, _R6, _S6, _T6, _U6, _V6, _W6, _X6, _Y6, _Z6, _A7, _B7, _C7, _D7, _E7), (G3:-_F7, _G7, _H7, _I7, _J7, _K7, _L7, _M7, _N7, _O7, _P7, _Q7, _R7, _S7, _T7, _U7, _V7, _W7, _X7, _Y7, _Z7, _A8, _B8, _C8, _D8, _E8, _F8, _G8, _H8, _I8, _J8, _K8, _L8, _M8, _N8, _O8, _P8, _Q8, _R8, _S8, _T8, _U8, _V8, _W8, _X8, _Y8, _Z8, _A9, _B9, _C9, _D9, _E9, _F9, _G9, _H9, _I9, _J9, _K9, _L9, _M9, _N9, _O9)), predicate_property(_F7, built_in), call(_F7), predicate_property(_G7, built_in), call(_G7), predicate_property(_H7, built_in), call(_H7), predicate_property(_I7, built_in), call(_I7), predicate_property(_J7, built_in), call(_J7), predicate_property(_K7, built_in), call(_K7), predicate_property(_L7, built_in), call(_L7), predicate_property(_M7, built_in), call(_M7), predicate_property(_N7, built_in), call(_N7), predicate_property(_O7, built_in), call(_O7), predicate_property(_P7, built_in), call(_P7), predicate_property(_Q7, built_in), call(_Q7), predicate_property(_R7, built_in), call(_R7), predicate_property(_S7, built_in), call(_S7), predicate_property(_T7, built_in), call(_T7), predicate_property(_U7, built_in), call(_U7), predicate_property(_V7, built_in), call(_V7), predicate_property(_W7, built_in), call(_W7), predicate_property(_X7, built_in), call(_X7), predicate_property(_Y7, built_in), call(_Y7), predicate_property(_Z7, built_in), call(_Z7), predicate_property(_A8, built_in), call(_A8), predicate_property(_B8, built_in), call(_B8), predicate_property(_C8, built_in), call(_C8), predicate_property(_D8, built_in), call(_D8), predicate_property(_E8, built_in), call(_E8), predicate_property(_F8, built_in), call(_F8), predicate_property(_G8, built_in), call(_G8), predicate_property(_H8, built_in), call(_H8), predicate_property(_I8, built_in), call(_I8), predicate_property(_J8, built_in), call(_J8), predicate_property(_K8, built_in), call(_K8), predicate_property(_L8, built_in), call(_L8), predicate_property(_M8, built_in), call(_M8), predicate_property(_N8, built_in), call(_N8), predicate_property(_O8, built_in), call(_O8), predicate_property(_P8, built_in), call(_P8), predicate_property(_Q8, built_in), call(_Q8), predicate_property(_R8, built_in), call(_R8), predicate_property(_S8, built_in), call(_S8), predicate_property(_T8, built_in), call(_T8), predicate_property(_U8, built_in), call(_U8), predicate_property(_V8, built_in), call(_V8), predicate_property(_W8, built_in), call(_W8), predicate_property(_X8, built_in), call(_X8), predicate_property(_Y8, built_in), call(_Y8), predicate_property(_Z8, built_in), call(_Z8), predicate_property(_A9, built_in), call(_A9), predicate_property(_B9, built_in), call(_B9), predicate_property(_C9, built_in), call(_C9), predicate_property(_D9, built_in), call(_D9), predicate_property(_E9, built_in), call(_E9), predicate_property(_F9, built_in), call(_F9), predicate_property(_G9, built_in), call(_G9), predicate_property(_H9, built_in), call(_H9), predicate_property(_I9, built_in), call(_I9), predicate_property(_J9, built_in), call(_J9), predicate_property(_K9, built_in), call(_K9), predicate_property(_L9, built_in), call(_L9), predicate_property(_M9, built_in), call(_M9), predicate_property(_N9, built_in), call(_N9), predicate_property(_O9, built_in), call(_O9)).
*/
opt_ebg4_4_queens(G3, GG3, (GG3:-_V4, _W4, _X4, _Y4, _Z4, _A5, _B5, _C5, _D5, _E5, _F5, _G5, _H5, _I5, _J5, _K5, _L5, _M5, _N5, _O5, _P5, _Q5, _R5, _S5, _T5, _U5, _V5, _W5, _X5, _Y5, _Z5, _A6, _B6, _C6, _D6, _E6, _F6, _G6, _H6, _I6, _J6, _K6, _L6, _M6, _N6, _O6, _P6, _Q6, _R6, _S6, _T6, _U6, _V6, _W6, _X6, _Y6, _Z6, _A7, _B7, _C7, _D7, _E7)):-prolog_current_choice(_), not(operational(G3)), not(predicate_property(G3, built_in)), prolog_current_choice(_), clause(GG3, (_V4, _W4, _X4, _Y4, _Z4, _A5, _B5, _C5, _D5, _E5, _F5, _G5, _H5, _I5, _J5, _K5, _L5, _M5, _N5, _O5, _P5, _Q5, _R5, _S5, _T5, _U5, _V5, _W5, _X5, _Y5, _Z5, _A6, _B6, _C6, _D6, _E6, _F6, _G6, _H6, _I6, _J6, _K6, _L6, _M6, _N6, _O6, _P6, _Q6, _R6, _S6, _T6, _U6, _V6, _W6, _X6, _Y6, _Z6, _A7, _B7, _C7, _D7, _E7)), copy_term((GG3:-_V4, _W4, _X4, _Y4, _Z4, _A5, _B5, _C5, _D5, _E5, _F5, _G5, _H5, _I5, _J5, _K5, _L5, _M5, _N5, _O5, _P5, _Q5, _R5, _S5, _T5, _U5, _V5, _W5, _X5, _Y5, _Z5, _A6, _B6, _C6, _D6, _E6, _F6, _G6, _H6, _I6, _J6, _K6, _L6, _M6, _N6, _O6, _P6, _Q6, _R6, _S6, _T6, _U6, _V6, _W6, _X6, _Y6, _Z6, _A7, _B7, _C7, _D7, _E7), (G3:-_F7, _G7, _H7, _I7, _J7, _K7, _L7, _M7, _N7, _O7, _P7, _Q7, _R7, _S7, _T7, _U7, _V7, _W7, _X7, _Y7, _Z7, _A8, _B8, _C8, _D8, _E8, _F8, _G8, _H8, _I8, _J8, _K8, _L8, _M8, _N8, _O8, _P8, _Q8, _R8, _S8, _T8, _U8, _V8, _W8, _X8, _Y8, _Z8, _A9, _B9, _C9, _D9, _E9, _F9, _G9, _H9, _I9, _J9, _K9, _L9, _M9, _N9, _O9)), (predicate_property(_F7, built_in), call(_F7)), (predicate_property(_G7, built_in), call(_G7)), (predicate_property(_H7, built_in), call(_H7)), (predicate_property(_I7, built_in), call(_I7)), (predicate_property(_J7, built_in), call(_J7)), (predicate_property(_K7, built_in), call(_K7)), (predicate_property(_L7, built_in), call(_L7)), (predicate_property(_M7, built_in), call(_M7)), (predicate_property(_N7, built_in), call(_N7)), (predicate_property(_O7, built_in), call(_O7)), (predicate_property(_P7, built_in), call(_P7)), (predicate_property(_Q7, built_in), call(_Q7)), (predicate_property(_R7, built_in), call(_R7)), (predicate_property(_S7, built_in), call(_S7)), (predicate_property(_T7, built_in), call(_T7)), (predicate_property(_U7, built_in), call(_U7)), (predicate_property(_V7, built_in), call(_V7)), (predicate_property(_W7, built_in), call(_W7)), (predicate_property(_X7, built_in), call(_X7)), (predicate_property(_Y7, built_in), call(_Y7)), (predicate_property(_Z7, built_in), call(_Z7)), (predicate_property(_A8, built_in), call(_A8)), (predicate_property(_B8, built_in), call(_B8)), (predicate_property(_C8, built_in), call(_C8)), (predicate_property(_D8, built_in), call(_D8)), (predicate_property(_E8, built_in), call(_E8)), (predicate_property(_F8, built_in), call(_F8)), (predicate_property(_G8, built_in), call(_G8)), (predicate_property(_H8, built_in), call(_H8)), (predicate_property(_I8, built_in), call(_I8)), (predicate_property(_J8, built_in), call(_J8)), (predicate_property(_K8, built_in), call(_K8)), (predicate_property(_L8, built_in), call(_L8)), (predicate_property(_M8, built_in), call(_M8)), (predicate_property(_N8, built_in), call(_N8)), (predicate_property(_O8, built_in), call(_O8)), (predicate_property(_P8, built_in), call(_P8)), (predicate_property(_Q8, built_in), call(_Q8)), (predicate_property(_R8, built_in), call(_R8)), (predicate_property(_S8, built_in), call(_S8)), (predicate_property(_T8, built_in), call(_T8)), (predicate_property(_U8, built_in), call(_U8)), (predicate_property(_V8, built_in), call(_V8)), (predicate_property(_W8, built_in), call(_W8)), (predicate_property(_X8, built_in), call(_X8)), (predicate_property(_Y8, built_in), call(_Y8)), (predicate_property(_Z8, built_in), call(_Z8)), (predicate_property(_A9, built_in), call(_A9)), (predicate_property(_B9, built_in), call(_B9)), (predicate_property(_C9, built_in), call(_C9)), (predicate_property(_D9, built_in), call(_D9)), (predicate_property(_E9, built_in), call(_E9)), (predicate_property(_F9, built_in), call(_F9)), (predicate_property(_G9, built_in), call(_G9)), (predicate_property(_H9, built_in), call(_H9)), (predicate_property(_I9, built_in), call(_I9)), (predicate_property(_J9, built_in), call(_J9)), (predicate_property(_K9, built_in), call(_K9)), (predicate_property(_L9, built_in), call(_L9)), (predicate_property(_M9, built_in), call(_M9)), (predicate_property(_N9, built_in), call(_N9)), predicate_property(_O9, built_in), call(_O9).
