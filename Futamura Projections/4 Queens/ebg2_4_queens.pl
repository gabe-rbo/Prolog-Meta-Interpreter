/*
?- numlist(1, 4, Queens), Goal1 = n_queens(Queens, Sol), GenGoal1 = n_queens(GenQ, GenS), Goal2 = ebg(Goal1, GenGoal1, NewRule1), GenGoal2 = ebg(G, GG, NR), time(ebg(Goal2, GenGoal2, NewRule2)), !.
% 38,450 inferences, 0.016 CPU in 0.006 seconds (242% CPU, 2460800 Lips)
*/

ebg2_4_queens(G, GG, (GG:-(del(_N, _O, _P), del(_Q, _R, _S), del(_T, _U, _V), del(_W, _X, _Y)), (noatk(_Z, _A1, _B1), _C1, noatk(_D1, _E1, _F1), _G1, noatk(_H1, _I1, _J1), _K1), (noatk(_L1, _M1, _N1), _O1, noatk(_P1, _Q1, _R1), _S1), noatk(_T1, _U1, _V1), _W1)):-prolog_current_choice(_), G\=(_, _), G\=(_;_), G\=(_->_), prolog_current_choice(_), clause(GG, (_X1, _Y1)), copy_term((GG:-_X1, _Y1), (G:-_Z1, _A2)), (_Z1\=(_, _), _Z1\=(_;_), _Z1\=(_->_), prolog_current_choice(_), clause(_X1, (del(_N, _O, _P), _B2)), copy_term((_X1:-del(_N, _O, _P), _B2), (_Z1:-_C2, _D2)), call(_C2), _D2\=(_, _), _D2\=(_;_), _D2\=(_->_), prolog_current_choice(_), clause(_B2, (del(_Q, _R, _S), _E2)), copy_term((_B2:-del(_Q, _R, _S), _E2), (_D2:-_F2, _G2)), call(_F2), _G2\=(_, _), _G2\=(_;_), _G2\=(_->_), prolog_current_choice(_), clause(_E2, (del(_T, _U, _V), _H2)), copy_term((_E2:-del(_T, _U, _V), _H2), (_G2:-_I2, _J2)), call(_I2), _J2\=(_, _), _J2\=(_;_), _J2\=(_->_), prolog_current_choice(_), clause(_H2, (del(_W, _X, _Y), _K2)), copy_term((_H2:-del(_W, _X, _Y), _K2), (_J2:-_L2, _M2)), call(_L2), _M2\=(_, _), _M2\=(_;_), _M2\=(_->_), prolog_current_choice(_), clause(_K2, true), copy_term((_K2:-true), (_M2:-true))), _A2\=(_, _), _A2\=(_;_), _A2\=(_->_), prolog_current_choice(_), clause(_Y1, (_N2, _O2)), copy_term((_Y1:-_N2, _O2), (_A2:-_P2, _Q2)), (_P2\=(_, _), _P2\=(_;_), _P2\=(_->_), prolog_current_choice(_), clause(_N2, (noatk(_Z, _A1, _B1), _C1, _R2)), copy_term((_N2:-noatk(_Z, _A1, _B1), _C1, _R2), (_P2:-_S2, _T2, _U2)), call(_S2), (_T2\=(_, _), _T2\=(_;_), _T2\=(_->_), predicate_property(_T2, built_in), call(_T2)), _U2\=(_, _), _U2\=(_;_), _U2\=(_->_), prolog_current_choice(_), clause(_R2, (noatk(_D1, _E1, _F1), _G1, _V2)), copy_term((_R2:-noatk(_D1, _E1, _F1), _G1, _V2), (_U2:-_W2, _X2, _Y2)), call(_W2), (_X2\=(_, _), _X2\=(_;_), _X2\=(_->_), predicate_property(_X2, built_in), call(_X2)), _Y2\=(_, _), _Y2\=(_;_), _Y2\=(_->_), prolog_current_choice(_), clause(_V2, (noatk(_H1, _I1, _J1), _K1, _Z2)), copy_term((_V2:-noatk(_H1, _I1, _J1), _K1, _Z2), (_Y2:-_A3, _B3, _C3)), call(_A3), (_B3\=(_, _), _B3\=(_;_), _B3\=(_->_), predicate_property(_B3, built_in), call(_B3)), _C3\=(_, _), _C3\=(_;_), _C3\=(_->_), prolog_current_choice(_), clause(_Z2, true), copy_term((_Z2:-true), (_C3:-true))), _Q2\=(_, _), _Q2\=(_;_), _Q2\=(_->_), prolog_current_choice(_), clause(_O2, (_D3, _E3)), copy_term((_O2:-_D3, _E3), (_Q2:-_F3, _G3)), (_F3\=(_, _), _F3\=(_;_), _F3\=(_->_), prolog_current_choice(_), clause(_D3, (noatk(_L1, _M1, _N1), _O1, _H3)), copy_term((_D3:-noatk(_L1, _M1, _N1), _O1, _H3), (_F3:-_I3, _J3, _K3)), call(_I3), (_J3\=(_, _), _J3\=(_;_), _J3\=(_->_), predicate_property(_J3, built_in), call(_J3)), _K3\=(_, _), _K3\=(_;_), _K3\=(_->_), prolog_current_choice(_), clause(_H3, (noatk(_P1, _Q1, _R1), _S1, _L3)), copy_term((_H3:-noatk(_P1, _Q1, _R1), _S1, _L3), (_K3:-_M3, _N3, _O3)), call(_M3), (_N3\=(_, _), _N3\=(_;_), _N3\=(_->_), predicate_property(_N3, built_in), call(_N3)), _O3\=(_, _), _O3\=(_;_), _O3\=(_->_), prolog_current_choice(_), clause(_L3, true), copy_term((_L3:-true), (_O3:-true))), _G3\=(_, _), _G3\=(_;_), _G3\=(_->_), prolog_current_choice(_), clause(_E3, (_P3, _Q3)), copy_term((_E3:-_P3, _Q3), (_G3:-_R3, _S3)), (_R3\=(_, _), _R3\=(_;_), _R3\=(_->_), prolog_current_choice(_), clause(_P3, (noatk(_T1, _U1, _V1), _W1, _T3)), copy_term((_P3:-noatk(_T1, _U1, _V1), _W1, _T3), (_R3:-_U3, _V3, _W3)), call(_U3), (_V3\=(_, _), _V3\=(_;_), _V3\=(_->_), predicate_property(_V3, built_in), call(_V3)), _W3\=(_, _), _W3\=(_;_), _W3\=(_->_), prolog_current_choice(_), clause(_T3, true), copy_term((_T3:-true), (_W3:-true))), _S3\=(_, _), _S3\=(_;_), _S3\=(_->_), prolog_current_choice(_), clause(_Q3, (_X3, _Y3)), copy_term((_Q3:-_X3, _Y3), (_S3:-_Z3, _A4)), (_Z3\=(_, _), _Z3\=(_;_), _Z3\=(_->_), prolog_current_choice(_), clause(_X3, true), copy_term((_X3:-true), (_Z3:-true))), _A4\=(_, _), _A4\=(_;_), _A4\=(_->_), prolog_current_choice(_), clause(_Y3, true), copy_term((_Y3:-true), (_A4:-true)).
