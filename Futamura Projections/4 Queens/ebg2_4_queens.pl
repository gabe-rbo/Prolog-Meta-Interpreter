/*
?- numlist(1, 4, Queens), Goal1 = n_queens(Queens, Sol), GenGoal1 = n_queens(GenQ, GenS), Goal2 = ebg(Goal1, GenGoal1, NewRule1), GenGoal2 = ebg(NQ, GNQ, NR), time(ebg(Goal2, GenGoal2, NewRule2)), !.
% % 32,499 inferences, 0.000 CPU in 0.006 seconds (0% CPU, Infinite Lips)


?- numlist(1, 4, Queens), Goal = n_queens(Queens, Sol), GenGoal = n_queens(GenQ, GenS), time(ebg2_4_queens(Goal, GenGoal, NewRule)), !.
% 1,579 inferences, 0.000 CPU in 0.001 seconds (0% CPU, Infinite Lips)
Queens = [1, 2, 3, 4],
Goal = n_queens([1, 2, 3, 4], [2, 4, 1, 3]),
Sol = [2, 4, 1, 3],
GenGoal = n_queens(GenQ, [_A, _B, _C, _D]),
GenS = [_A, _B, _C, _D],
NewRule = (n_queens(GenQ, [_A, _B, _C, _D]):-(del(_A, GenQ, _E), del(_B, _E, _F), del(_C, _F, _G), del(_D, _G, [])), (noatk(_A, _B, 1), _H is 1+1, noatk(_A, _C, _H), _I is _H+1, noatk(_A, _D, _I), _ is _I+1), (noatk(_B, _C, 1), _J is 1+1, noatk(_B, _D, _J), _ is _J+1), noatk(_C, _D, 1), _ is 1+1).
*/


ebg2_4_queens(NQ, GNQ, (GNQ:-(del(_N, _O, _P), del(_Q, _R, _S), del(_T, _U, _V), del(_W, _X, _Y)), (noatk(_Z, _A1, _B1), _C1, noatk(_D1, _E1, _F1), _G1, noatk(_H1, _I1, _J1), _K1), (noatk(_L1, _M1, _N1), _O1, noatk(_P1, _Q1, _R1), _S1), noatk(_T1, _U1, _V1), _W1)):-prolog_current_choice(_), not(operational(NQ)), not(predicate_property(NQ, built_in)), prolog_current_choice(_), clause(GNQ, (_X1, _Y1)), copy_term((GNQ:-_X1, _Y1), (NQ:-_Z1, _A2)), (not(operational(_Z1)), not(predicate_property(_Z1, built_in)), prolog_current_choice(_), clause(_X1, (del(_N, _O, _P), _B2)), copy_term((_X1:-del(_N, _O, _P), _B2), (_Z1:-_C2, _D2)), call(_C2), not(operational(_D2)), not(predicate_property(_D2, built_in)), prolog_current_choice(_), clause(_B2, (del(_Q, _R, _S), _E2)), copy_term((_B2:-del(_Q, _R, _S), _E2), (_D2:-_F2, _G2)), call(_F2), not(operational(_G2)), not(predicate_property(_G2, built_in)), prolog_current_choice(_), clause(_E2, (del(_T, _U, _V), _H2)), copy_term((_E2:-del(_T, _U, _V), _H2), (_G2:-_I2, _J2)), call(_I2), not(operational(_J2)), not(predicate_property(_J2, built_in)), prolog_current_choice(_), clause(_H2, (del(_W, _X, _Y), _K2)), copy_term((_H2:-del(_W, _X, _Y), _K2), (_J2:-_L2, _M2)), call(_L2), not(operational(_M2)), not(predicate_property(_M2, built_in)), prolog_current_choice(_), clause(_K2, true), copy_term((_K2:-true), (_M2:-true))), not(operational(_A2)), not(predicate_property(_A2, built_in)), prolog_current_choice(_), clause(_Y1, (_N2, _O2)), copy_term((_Y1:-_N2, _O2), (_A2:-_P2, _Q2)), (not(operational(_P2)), not(predicate_property(_P2, built_in)), prolog_current_choice(_), clause(_N2, (noatk(_Z, _A1, _B1), _C1, _R2)), copy_term((_N2:-noatk(_Z, _A1, _B1), _C1, _R2), (_P2:-_S2, _T2, _U2)), call(_S2), (predicate_property(_T2, built_in), call(_T2)), not(operational(_U2)), not(predicate_property(_U2, built_in)), prolog_current_choice(_), clause(_R2, (noatk(_D1, _E1, _F1), _G1, _V2)), copy_term((_R2:-noatk(_D1, _E1, _F1), _G1, _V2), (_U2:-_W2, _X2, _Y2)), call(_W2), (predicate_property(_X2, built_in), call(_X2)), not(operational(_Y2)), not(predicate_property(_Y2, built_in)), prolog_current_choice(_), clause(_V2, (noatk(_H1, _I1, _J1), _K1, _Z2)), copy_term((_V2:-noatk(_H1, _I1, _J1), _K1, _Z2), (_Y2:-_A3, _B3, _C3)), call(_A3), (predicate_property(_B3, built_in), call(_B3)), not(operational(_C3)), not(predicate_property(_C3, built_in)), prolog_current_choice(_), clause(_Z2, true), copy_term((_Z2:-true), (_C3:-true))), not(operational(_Q2)), not(predicate_property(_Q2, built_in)), prolog_current_choice(_), clause(_O2, (_D3, _E3)), copy_term((_O2:-_D3, _E3), (_Q2:-_F3, _G3)), (not(operational(_F3)), not(predicate_property(_F3, built_in)), prolog_current_choice(_), clause(_D3, (noatk(_L1, _M1, _N1), _O1, _H3)), copy_term((_D3:-noatk(_L1, _M1, _N1), _O1, _H3), (_F3:-_I3, _J3, _K3)), call(_I3), (predicate_property(_J3, built_in), call(_J3)), not(operational(_K3)), not(predicate_property(_K3, built_in)), prolog_current_choice(_), clause(_H3, (noatk(_P1, _Q1, _R1), _S1, _L3)), copy_term((_H3:-noatk(_P1, _Q1, _R1), _S1, _L3), (_K3:-_M3, _N3, _O3)), call(_M3), (predicate_property(_N3, built_in), call(_N3)), not(operational(_O3)), not(predicate_property(_O3, built_in)), prolog_current_choice(_), clause(_L3, true), copy_term((_L3:-true), (_O3:-true))), not(operational(_G3)), not(predicate_property(_G3, built_in)), prolog_current_choice(_), clause(_E3, (_P3, _Q3)), copy_term((_E3:-_P3, _Q3), (_G3:-_R3, _S3)), (not(operational(_R3)), not(predicate_property(_R3, built_in)), prolog_current_choice(_), clause(_P3, (noatk(_T1, _U1, _V1), _W1, _T3)), copy_term((_P3:-noatk(_T1, _U1, _V1), _W1, _T3), (_R3:-_U3, _V3, _W3)), call(_U3), (predicate_property(_V3, built_in), call(_V3)), not(operational(_W3)), not(predicate_property(_W3, built_in)), prolog_current_choice(_), clause(_T3, true), copy_term((_T3:-true), (_W3:-true))), not(operational(_S3)), not(predicate_property(_S3, built_in)), prolog_current_choice(_), clause(_Q3, (_X3, _Y3)), copy_term((_Q3:-_X3, _Y3), (_S3:-_Z3, _A4)), (not(operational(_Z3)), not(predicate_property(_Z3, built_in)), prolog_current_choice(_), clause(_X3, true), copy_term((_X3:-true), (_Z3:-true))), not(operational(_A4)), not(predicate_property(_A4, built_in)), prolog_current_choice(_), clause(_Y3, true), copy_term((_Y3:-true), (_A4:-true)).
